#
# Enable basic services for the out-of-the-box TrueOS
#
# This is not a systemd preset.
# It goes in a special nosh system-manager preset directory.
# It is used by the nosh-run-trueos-server-basic and nosh-run-trueos-desktop-basic packages in order to enable the services themselves.
#

#
# These services are common to both TrueOS Server and TrueOS Desktop.
#

# etc services
enable	kmod@fuse.service

# Normal services
enable	cyclog@kmod@fdescfs.service
enable	kmod@fdescfs.service
enable	cyclog@kmod@ipfw_nat.service
enable	kmod@ipfw_nat.service
enable	cyclog@kmod@libiconv.service
enable	kmod@libiconv.service
enable	cyclog@kmod@libmchain.service
enable	kmod@libmchain.service
enable	cyclog@kmod@linsysfs.service
enable	kmod@linsysfs.service
enable	cyclog@kmod@msdosfs_iconv.service
enable	kmod@msdosfs_iconv.service
enable	cyclog@kmod@sem.service
enable	kmod@sem.service
enable	cyclog@cleanX.service
enable	cleanX.service
enable	cyclog@cleantmp.service
enable	cleantmp.service
enable	cyclog@ipfw0.service
enable	ipfw0.service
enable	cyclog@ipfw.service
enable	ipfw.service
enable	cyclog@iscsid.service
enable	iscsid.service
enable	cyclog@ntpd.service
enable	ntpd.service
disable	cyclog@openntpd.service
disable	openntpd.service
enable	cyclog@pc-sysconfig.service
enable	pc-sysconfig.service
enable	cyclog@zfs.service
enable	zfs.service

# These services and targets are preset to disabled for security reasons.
# The syscache-daemon pulls from a hijackable GitHub account; and appcafe relies upon syscache-daemon.
# See the full security announcement made on 2023-04-15 for details.
disable	cyclog@appcafe-dispatcher.service
disable	appcafe-dispatcher.service
disable	cyclog@appcafe-nginx.service
disable	appcafe-nginx.service
disable	cyclog@appcafe-php-fpm.service
disable	appcafe-php-fpm.service
disable	cyclog@appcafe-ssl-keygen.service
disable	appcafe-ssl-keygen.service
disable	cyclog@syscache.service
disable	syscache.service
disable	appcafe.target

# Targets
enable	warden.target
