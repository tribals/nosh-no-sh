<link rel="Up" href="terminals.html" title="Terminals" />
<link rel="Prev" href="virtual-terminal-login.html" title="virtual terminal login" />
<link rel="Next" href="real-terminal-call-out.html" title="real terminal call-out" />
<link rel="Stylesheet" type="text/css" href="guide.css" title="Guide default style" />
<title>Real terminal login</title>
<h1 class="Ruled">
Real terminal login
</h1>

<p>
Operating systems provide a range of devices that are real terminals, or things pretending to be real terminals, attached via serial ports (and possibly modems).
This package contains tools for running and managing TUI login services on real terminals.
It also contains pre-written service bundles for such TUI login services.
</p>

<p>
Login on real terminals is done with <code>ttylogin</code> services, configured to use those devices.
In the case of virtual terminals <a href="virtual-terminal-login.html">the <code>ttylogin</code> services</a> are services in their own right, built up entirely from chain-loading tools in the toolset.
But with real terminals, these services are instead always alias names for other services, that are in turn named after the serial-line programs that they employ (such as <code>getty</code>, <code>mgetty</code>, and <code>agetty</code>).
</p>

<p>
Such a TUI login service is a very simple service, which can be managed just like other ordinary services, started and stopped and enabled and disabled in the usual way.
There is one augmentation to ordinary service management: the <a href="commands/preset.xml"><code>preset</code></a> command uses the ordinary preset file mechanism, but can also <a href="ttys.html">read the <code>/etc/ttys</code> file</a>.
</p>

<p class="note">
Note:
Login services for real terminals have to do a lot more than <a href="virtual-terminal-login.html">the login services of virtual terminals</a>; from auto-sensing and auto-changing line speed to handling special login diversions for faxmodems, BBSes, PPP, and suchlike.
On the one hand, TUI login services for real terminals should not be relying upon any sort of <code>getty</code> program any more.
<a href="https://jdebp.uk/FGA/inittab-getty-is-history.html">The use of <code>getty</code> in terminal login has in fact been obsolete since 1988</a>, when one of the earliest service management systems for Unix superseded it with its own mechanisms.
On the other hand, the nosh toolset does not provide chain-loading utilities for these extra mechanisms, and current TUI login services for real terminals hence <em>do</em> still employ various <code>getty</code> programs.
On the gripping hand, the use of faxmodems, BBS "doors", variable speed serial lines to local terminals or to modems, PPP, chat scripts, and suchlike is uncommon in the 21st century.
Theoretically, in the future a lot of this could simplify to assuming a hardwired fixed high BPS rate, default line discipline settings, and no special login diversions; and thus even these residual <code>getty</code> uses could finally be removed.
</p>

<h2 class="Ruled">
What the service bundle <code>run</code> scripts look like
</h2>

<h3 class="Ruled">FreeBSD, DragonFly BSD, and similar</h3>

<p>
The services are <code>ttylogin@ttyu0</code> through to <code>ttylogin@ttyuf</code>, matching the operating system's real terminal devices <code>/dev/ttyu0</code> to <code>/dev/ttyuf</code>.
These are aliases for <code>getty@ttyu0</code> through to <code>getty@ttyuf</code>.
</p><p>
These services invoke the FreeBSD <code>/usr/libexec/getty</code> program, with the <i>getty class</i> of <code>std.9600</code>.
The <code>run</code> script for such services is basically this (using <code>getty@ttyu1</code> as an example):
</p>
<blockquote><pre>#!/bin/nosh
setsid
/usr/libexec/getty std.9600 ttyu1</pre></blockquote>

<h3 class="Ruled">OpenBSD</h3>

<p>
The services are <code>ttylogin@tty00</code> through to <code>ttylogin@tty07</code> and <code>ttylogin@ttyU0</code> through to <code>ttylogin@ttyU3</code>, matching the operating system's real terminal devices <code>/dev/tty00</code> to <code>/dev/tty07</code> and <code>/dev/ttyU0</code> to <code>/dev/ttyU3</code>.
These are aliases for <code>getty@tty00</code> through to <code>getty@tty07</code> and <code>getty@ttyU0</code> through to <code>getty@ttyU3</code>.
</p><p>
These services invoke the OpenBSD <code>/usr/libexec/getty</code> program, with the <i>getty class</i> of <code>std.9600</code>.
The <code>run</code> script for such services is basically this (using <code>getty@tty03</code> as an example):
</p>
<blockquote><pre>#!/bin/nosh
setsid
/usr/libexec/getty std.9600 tty03</pre></blockquote>

<h3 class="Ruled">Linux-based operating systems</h3>

<p>
The services are <code>ttylogin@ttyS0</code> through to <code>ttylogin@ttyS3</code>, matching the operating system's real terminal devices <code>/dev/ttyS0</code> to <code>/dev/ttyS3</code>.
By default, these are aliases for <code>agetty@ttyS0</code> through to <code>agetty@ttyS3</code>.
But they can if one wishes instead be aliased to <code>mgetty@ttyS0</code> through to <code>mgetty@ttyS3</code>.
</p><p>
The first set of services invokes Wietse Venema's <code>agetty</code> program.
The <code>run</code> script for such services is basically this (using <code>agetty@ttyS2</code> as an example):
</p>
<blockquote><pre>#!/bin/nosh
setsid
agetty ttyS2</pre></blockquote>
</p><p>
The second set of services invokes Gert Doering's <code>mgetty</code> program.
The <code>run</code> script for such services is basically this (using <code>mgetty@ttyS0</code> as an example):
</p>
<blockquote><pre>#!/bin/nosh
mgetty ttyS0</pre></blockquote>
<p>
<p class="note">
Note:
Florian La Roche's <code>mingetty</code> program and Felix von Leitner's <code>fgetty</code> program are not suitable for use with real terminals attached to serial devices.
</p>
