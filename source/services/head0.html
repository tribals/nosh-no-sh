<link rel="Up" href="../index.html" title="nosh Guide" />
<link rel="Stylesheet" type="text/css" href="../guide.css" title="Guide default style" />
<title>The head0 user-space virtual terminal</title>
<h1 class="Ruled">
The <code>head0</code> user-space virtual terminal
</h1>

<p>
One <a href="../user-virtual-terminals.html">user-space virtual terminal</a> is supplied as a pre-packaged suite of connected service bundles in several layers:
</p>

<ul>
<li><p>a suite of <code>terminal-emulator@vc<i>N</i></code> service bundles running <a href="../commands/console-terminal-emulator.xml"><code>console-terminal-emulator</code></a> to provide terminal emulation to the TUI login sessions, attached to their individual pseudo-terminals and presenting themselves as the several <code>/run/dev/vc<i>N</i></code> user-space virtual terminals</p></li>
<li><p>a suite of <code>ttylogin@vc<i>N</i></code> service bundles providing <a href="../virtual-terminal-login.html">TUI login services</a> on those pseudo-terminals</p></li>
<li><p>a <code>console-multiplexor@head0</code> service bundle running <a href="../commands/console-multiplexor.xml"><code>console-multiplexor</code></a> to multiplex among the lower <code>vc<i>N</i></code> virtual terminals and presenting itself as the <code>/run/dev/head0mux</code> user-space virtual terminal</p></li>
<li><p>a <code>console-input-method@head0</code> service bundle running <a href="../commands/console-input-method.xml"><code>console-input-method</code></a> to layer an input method on top of the multiplexor and presenting itself as the <code>/run/dev/head0</code> user-space virtual terminal</p></li>
</ul>

<p>
The <code>head0</code> virtual terminal is realized onto physical devices using several service bundles:
</p>

<ul>
<li><p>Either:</p>
<ul>
<li><p>a <code>console-fb-realizer@fb<i>N</i></code> service bundle running <a href="../commands/console-fb-realizer.xml"><code>console-fb-realizer</code></a> to realize the overall combination at <code>/run/dev/head0</code> onto the <code>/dev/fb<i>N</i></code> framebuffer device; or</p></li>
<li><p>a <code>console-kvt-realizer@ttyv<i>N</i></code> service bundle running <a href="../commands/console-kvt-realizer.xml"><code>console-kvt-realizer</code></a> to realize the overall combination at <code>/run/dev/head0</code> onto the <code>/dev/ttyv<i>N</i></code> kernel virtual terminal</p></li>
</ul>
</li>
<li><p>a <code>console-ugen-hid-realizer@ugen<i>N</i>.<i>M</i></code> service bundle (auto-generated and auto-started by the Plug and Play manager) running <a href="../commands/console-ugen-hid-realizer.xml"><code>console-ugen-hid-realizer</code></a> to realize the overall combination at <code>/run/dev/head0</code> onto some USB HID device</p></li>
</ul>

<p>
The realizers all use global (i.e. not private to individual realizer services) <a href="../commands/user-vt-realizer-configuration.xml">user-space virtual terminal configuration</a>, so <code>kbdmaps</code>, <code>fonts</code>, <code>keyboards-aggregate</code>, <code>mice-aggregate</code>, and <code>vcs</code> in their service directories are all symbolic links to subdirectories of the same names under <code>/etc/system-control/convert/user-vt/</code>.
In turn, the global configuration is set up so that the relevant <code>/etc/system-control/convert/user-vt/vcs/<i>something</i></code> autoconfiguration symbolic links point to <code>/run/dev/head0</code>.
</p>

<p>
How keyboard maps and keyboard/mouse states are assigned is a matter of <a href="../user-virtual-terminal-configuration.html">configuration policy</a>.
Similarly, fonts are <a href="../terminal-resources.html">third-party terminal resources</a> not supplied in the toolkit, that have to be obtained, and configured in a manner that is determined by where on the system they are installed.
</p>

