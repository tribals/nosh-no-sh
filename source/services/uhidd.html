<link rel="Up" href="../index.html" title="nosh Guide" />
<link rel="Stylesheet" type="text/css" href="../guide.css" title="Guide default style" />
<title>The uhidd services</title>
<h1 class="Ruled">
The <code>uhidd</code> services
</h1>

<h2 class="Ruled">
Application note
</h2>

<p>
This describes how the uhidd service is run, on the presumption that one wants to run a uhidd service.
It is, however, not necessary to have uhidd if one is using a <code>console-usb-ugen-realizer@ugen<i>N</i>.<i>M</i></code> service bundle running <a href="../commands/console-ugen-hid-realizer.xml"><code>console-ugen-hid-realizer</code></a> to realize a USB Human Interface Device onto a virtual terminal, and doing so will lead to poorer functionality as <code>console-ugen-hid-realizer</code> can recognize and handle consumer control keys and other things natively without need to translate them into other input forms.
</p>

<h2 class="Ruled">
Old behaviour under Mewburn <code>rc</code>
</h2>

<p>
In response to a rule in <code>/usr/local/etc/devd/uhidd-devd.conf</code>, the Plug and Play manager starts individual uhidd processes on demand as <code>ugen</code> devices appear.
</p>

<p>
The <code>rc</code> system has a <code>uhidd_enabled</code> flag, that causes autostart of uhidd services on every <code>ugen</code> device that lives in <code>/dev</code> at that point in the bootstrap.
</p>

<h2 class="Ruled">
How this system handles things
</h2>

<p>
In response to a rule in <code>/usr/local/etc/devd/hidd-nosh.conf</code>, the Plug and Play manager (if necessary) generates, presets, and resets individual uhidd service bundles on demand as <code>ugen</code> devices appear.
Each of these launches a <code>uhidd</code> d&aelig;mon against the given <code>ugen</code> device, and is individually startable, parameterized via its private environment directory, and enabled just like any other service.
When the devices disappear, in response to the same ruleset the Plug and Play manager stops the services.
</p>

<p>
These service bundles live in the <code>/run/service-bundles/</code> tree, and are not persistent across system restarts.
When enabled, they are wanted by a generated <code>uhidd</code> target located in the same tree.
</p>
